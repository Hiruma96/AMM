CREATE TABLE utentiRegistrati (
    idUtentiRegistrati  INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    nome VARCHAR(256),
    cognome VARCHAR(256),
    password VARCHAR(256) NOT NULL,
    img VARCHAR(256),
    data DATE,
    email VARCHAR(256) UNIQUE,
    frase VARCHAR(2048),
);

CREATE TABLE utentePerGruppo (
    idUtentePerGruppo INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    gruppiId INTEGER,
    FOREIGN KEY (gruppiId) REFERENCES gruppi(idGruppi) ON DELETE CASCADE,
    utentiId INTEGER,
    FOREIGN KEY (utentiId) REFERENCES utentiRegistrati(idUtentiRegistrati) ON DELETE CASCADE,
);

CREATE TABLE posts (
    idPosts  INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    frase VARCHAR(1024),
    img VARCHAR(512),
    utentiId INTEGER,
    FOREIGN KEY (utentiRegistratiId) REFERENCES utentiRegistrati(idUtentiRegistrati) ON DELETE CASCADE,
);

CREATE TABLE utentePerGruppo (
    idPostPerGruppo INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    gruppiId INTEGER,
    FOREIGN KEY (gruppiId) REFERENCES gruppi(idGruppi) ON DELETE CASCADE,
    postId INTEGER,
    FOREIGN KEY (postId) REFERENCES posts(idPosts) ON DELETE CASCADE,
);

CREATE TABLE gruppi (
    idGruppi  INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    nome VARCHAR(1024),
    image VARCHAR(512),         
);



//Gruppi

INSERT INTO gruppi (idGruppi, nome, image)
VALUES (default,
        'AMM',
        '',
    );

INSERT INTO gruppi (idGruppi, nome, image)
VALUES (default,
        'Manga',
        '',
    );

INSERT INTO gruppi (idGruppi, nome, image)
VALUES (default,
        'Università',
        '',
    );


//Utenti


INSERT INTO utentiRegistrati (idUtentiRegistrati, nome, cognome, email, data, password, img, frase)
VALUES (default,
        'Pippo',
        'Domodossola',
        'PippoDomodossola42@mlmlml.it',
        '18/07/2017',
        '01234',
        '',
        'ciao',
    );


INSERT INTO utentiRegistrati (idUtentiRegistrati, nome, cognome, email, data, password, img, frase)
VALUES (default,
        'Tex',
        'Dodo',
        'TexDodo@mlmlml.it',
        '18/07/2017',
        '56789',
        'Foto',
        '',
    );


INSERT INTO utentiRegistrati (idUtentiRegistrati, nome, cognome, email, data, password, img, frase)
VALUES (default,
        'Giorgio',
        'Vanni',
        'GiorgioVanni@mlmlml.it',
        '18/07/2017',
        '77777',
        '',
        'Pippo',
    );



//Post

INSERT INTO posts (idPosts, frase, image, utenteId)
VALUES (default,
        'we',
        '',
        0,
        );


INSERT INTO posts (idPosts, frase, image, utenteId)
VALUES (default,
        'WEWE',
        '',
        1,
        );


INSERT INTO posts (idPosts, frase, image, utenteId)
VALUES (default,
        'wewewe',
        '',
        2,
        );


INSERT INTO posts (idPosts, frase, image, utenteId)
VALUES (default,
        'wewewewe',
        '',
        3,
        );


INSERT INTO posts (idPosts, frase, image, utenteId)
VALUES (default,
        'we',
        '',
        2,
        );


//UtentePergruppo


INSERT INTO utentePergruppo(idUtentePerGruppo, gruppoId, utenteId)
VALUES (default,
        -1,
	0,
        );


INSERT INTO utentePergruppo (idUtentePerGruppo, gruppoId, utenteId)
VALUES (default,
        2,
	1,
        );

INSERT INTO utentePergruppo (idUtentePerGruppo, gruppoId, utenteId)
VALUES (default,
        -1,
	2,
        );


//PostPerGruppo

INSERT INTO postPerGruppo (idUtentePerGruppo, gruppoId, postId)
VALUES (default,
        -1,
	0,
        );

INSERT INTO postPerGruppo (idUtentePerGruppo, gruppoId, postId)
VALUES (default,
        1,
	1,
        );

INSERT INTO postPerGruppo (idUtentePerGruppo, gruppoId, postId)
VALUES (default,
        -1,
	2,
        );

INSERT INTO postPerGruppo (idUtentePerGruppo, gruppoId, postId)
VALUES (default,
        0,
	3,
        );

INSERT INTO postPerGruppo (idUtentePerGruppo, gruppoId, postId)
VALUES (default,
        -1,
	4,
        );